<mat-toolbar class="h-16 w-full fixed inset-0 z-50 bg-nav">
    <div class="w-full flex items-center justify-between space-x-5">
        <button mat-icon-button (click)="sidebarRef.toggle()">
            <mat-icon class="text-white">menu</mat-icon>
        </button>

        <div class="flex items-center space-x-3">
            <div class="ml-auto mr-1 text-white text-lg h-full">
                {{ user.nome | uppercase }} {{ user.cognome | uppercase}}
            </div>

            <button mat-icon-button aria-label="Menu" [matMenuTriggerFor]="menu">
                <!-- <div class="" [matBadge]="countNotifiche">
                    <mat-icon class="text-white">notifications_active</mat-icon>
                </div> -->
                <div class="relative flex justify-center items-center">
                    <mat-icon class="text-white relative">notifications_active</mat-icon>
                    <span class="absolute left-6 bottom-1/2 rounded-full text-white bg-red-400 h-5 flex items-center justify-center">
                        <span class="px-1">{{ countNotifiche }}</span>
                    </span>        
                </div>
                
            </button>
            <mat-menu #menu="matMenu" class="px-4 pt-2 flex flex-col justify-center">
                <div *ngIf="orderInAttesa >= 1">
                    <p *ngIf="orderInAttesa === 1"><span class="font-semibold text-lg mr-1">{{ orderInAttesa }}</span> ordini in attesa</p>
                    <p *ngIf="orderInAttesa !== 1"><span class="font-semibold text-lg mr-1">{{ orderInAttesa }}</span> ordine in attesa</p>
                    <p class="border-b-1" *ngFor="let order of inattesa_orders">Ordine N. {{ order.n_ordine }} <br> Stato:</p>
                </div>
                <p *ngIf="orderNonDisp >= 1">
                    <span *ngIf="orderNonDisp === 1"><span class="font-semibold text-lg mr-1">{{ orderNonDisp }}</span> ordini non disponibili</span>
                    <span *ngIf="orderNonDisp !== 1"><span class="font-semibold text-lg mr-1">{{ orderNonDisp }}</span> ordine non disponibile</span>
                    <br>
                    <span *ngFor="let order of nondisp_orders">Ordine N. {{ order.n_ordine }} <br> Stato:</span>
                </p>
                <!-- <p *ngIf="orderDaConf >= 1">
                    <span *ngIf="orderDaConf === 1"><span class="font-semibold text-lg mr-1">{{ orderDaConf }}</span> ordini non disponibili</span>
                    <span *ngIf="orderDaConf !== 1"><span class="font-semibold text-lg mr-1">{{ orderDaConf }}</span> ordine non disponibile</span>
                    <br>
                    <span *ngFor="let order of daconf_orders">Ordine N. {{ order.n_ordine }} <br> Stato:</span>
                </p> -->
            </mat-menu>
            <button mat-icon-button (click)="goToLogin()">
                <mat-icon class="text-white">exit_to_app</mat-icon>
            </button>
        </div>
    </div>
</mat-toolbar>
<mat-sidenav-container class="h-screen pt-10 sidenav">
    <mat-sidenav #sidebarRef opened mode="side" class="flex inset-y-0 left-0 z-50 pb-3 mt-10 bg-nav" [(opened)]="isSidebarOpen">
        <mat-list class="h-full w-60 flex flex-col justify-between">
            <div class="mt-8">
                <mat-list-item><button mat-button (click)="goToHome()" class="w-full left text-lg text-white">HOME</button></mat-list-item>
                <mat-list-item><button mat-button (click)="openMansionDialog()" class="w-full left text-lg text-white">CAMBIA MANSIONI</button></mat-list-item>
                <mat-list-item><button mat-button (click)="goToOrdine()" class="w-full left text-lg text-white">
                    <span *ngIf="this.ruolo === 'interno'">NUOVO ORDINE</span> <span *ngIf="this.ruolo === 'esterno'">ORDINI</span>
                </button></mat-list-item>
                <mat-list-item><button mat-button (click)="goToRegistrazione()" class="w-full left text-lg text-white">
                    <span *ngIf="this.ruolo === 'interno'">NUOVO ASSISTITO</span> <span *ngIf="this.ruolo === 'esterno'">ASSISTITI</span>
                </button></mat-list-item>
            </div>
            <div class="mb-8">
                <div class="my-2">
                    <mat-divider></mat-divider>
                </div>
                <mat-list-item><button mat-button (click)="openPasswordDialog()" class="w-full left text-lg text-white">CAMBIA PASSWORD</button></mat-list-item>
                <mat-list-item><button mat-button (click)="goToLogin()" class="w-full left text-lg text-white">ESCI</button></mat-list-item>
            </div>
        </mat-list>
    </mat-sidenav>
</mat-sidenav-container>